export PYTHONNOUSERSITE=1

# Prefer the repo-local virtual environment
if [ -d .venv ]; then
  VENV_PATH="$(pwd)/.venv"
  if [ -n "${BASH_SOURCE:-}" ] || [ -n "$PS1" ]; then
    # Interactive shell: activate venv
    . "$VENV_PATH/bin/activate"
  else
    # Non-interactive: prepend PATH to prefer local venv tools
    export VIRTUAL_ENV="$VENV_PATH"
    export PATH="$VENV_PATH/bin:$PATH"
  fi
fi
